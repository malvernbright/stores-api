{
    "sourceFile": "app.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1641114247677,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1641114646495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,7 +22,5 @@\n     .then((result) => app.listen(process.env.PORT || 3000, () => { console.log('listening on port: ' + process.env.PORT) }))\n     .catch((err) => console.log(err));\n \n // routes\n-app.get('*', checkUser);\n-app.get('/smoothies', requireAuth, (req, res) => res.render('smoothies'));\n app.use(authRoutes, stocksRoutes);\n\\ No newline at end of file\n"
                },
                {
                    "date": 1641120364679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,11 @@\n const mongoose = require('mongoose');\n const authRoutes = require('./routes/authRoutes');\n const stocksRoutes = require('./routes/stocksRoutes');\n const cookieParser = require('cookie-parser');\n+const compression = require('compression');\n+const helmet = require('helmet');\n+\n const { requireAuth, checkUser } = require('./middleware/authMiddleware');\n \n const app = express();\n \n"
                },
                {
                    "date": 1641120394250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,16 +4,18 @@\n const stocksRoutes = require('./routes/stocksRoutes');\n const cookieParser = require('cookie-parser');\n const compression = require('compression');\n const helmet = require('helmet');\n+app.use(compression()); //Compress all routes\n \n const { requireAuth, checkUser } = require('./middleware/authMiddleware');\n \n const app = express();\n \n // middleware\n app.use(express.json());\n app.use(cookieParser());\n+app.use(helmet());\n \n \n // view engine\n // app.set('view engine', 'ejs');\n"
                },
                {
                    "date": 1641120401037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,18 +4,19 @@\n const stocksRoutes = require('./routes/stocksRoutes');\n const cookieParser = require('cookie-parser');\n const compression = require('compression');\n const helmet = require('helmet');\n-app.use(compression()); //Compress all routes\n \n+\n const { requireAuth, checkUser } = require('./middleware/authMiddleware');\n \n const app = express();\n \n // middleware\n app.use(express.json());\n app.use(cookieParser());\n app.use(helmet());\n+app.use(compression()); //Compress all routes\n \n \n // view engine\n // app.set('view engine', 'ejs');\n"
                }
            ],
            "date": 1641114247677,
            "name": "Commit-0",
            "content": "const express = require('express');\nconst mongoose = require('mongoose');\nconst authRoutes = require('./routes/authRoutes');\nconst stocksRoutes = require('./routes/stocksRoutes');\nconst cookieParser = require('cookie-parser');\nconst { requireAuth, checkUser } = require('./middleware/authMiddleware');\n\nconst app = express();\n\n// middleware\napp.use(express.json());\napp.use(cookieParser());\n\n\n// view engine\n// app.set('view engine', 'ejs');\n\n// database connection\n// const dbURI = 'mongodb://localhost/store-manager';\nconst dbURI = 'mongodb+srv://lazycoder:usatsamwa20@cluster0.zhcie.mongodb.net/stock-store?retryWrites=true&w=majority';\nmongoose.connect(dbURI, { useNewUrlParser: true, useUnifiedTopology: true, useCreateIndex: true })\n    .then((result) => app.listen(process.env.PORT || 3000, () => { console.log('listening on port: ' + process.env.PORT) }))\n    .catch((err) => console.log(err));\n\n// routes\napp.get('*', checkUser);\napp.get('/smoothies', requireAuth, (req, res) => res.render('smoothies'));\napp.use(authRoutes, stocksRoutes);"
        }
    ]
}